<div class="flex flex-col flex-auto min-w-0 bg-gray-100 h-screen">
    <div class="flex-auto p-4 sm:p-10 overflow-auto">
      <div class="w-full">
        <div class="w-full flex sm:items-center justify-start mb-2 flex-col sm:flex-row">
          <app-button-back [routeBack]="backRoute" class="mb-2"></app-button-back>
        <h2 class="text-2xl sm:text-3xl font-semibold tracking-tight leading-8">
          Grupo: {{groupComponent.group}} <br> Componente: {{groupComponent.component}}
        </h2>
        </div>
        <div class="font-medium tracking-tight text-secondary mb-4">
          A continuación encontrará la información general de las asistencias del grupo por mes.
        </div>

          <app-month-year-selector (monthYearListener)="onSelectYearMont($event)"></app-month-year-selector>  
  
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 sm:gap-4 mt-4">
  
        </div>
      </div>
  
      <div *ngIf="dataSource.data.length > 0" class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden mt-4 h-auto">
        <div class="overflow-x-auto p-4">
          <!-- <mat-form-field class="bg-white rounded-md w-full mt-4">
            <mat-label>Buscar en todos los campos</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Buscar"
              class="py-2 px-3 rounded-md shadow-sm text-gray-700 leading-5 focus:outline-none focus:shadow-outline-blue focus:border-blue-300">
          </mat-form-field> -->
  
          <div class="flex justify-between items-center w-full h-16">
            <div class="mt-2 mb-2 text-sm text-gray-700">Resultados: {{totalSize}}</div>        
  
          </div>
  
          <table class="w-full" mat-table matSort [dataSource]="dataSource" [trackBy]="trackByFn"
         #recordsTable="matSort">
  
          <!-- Columna de selección (Checkbox) -->
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
            </th>
            <td mat-cell *matCellDef="let rowData">
            </td>
          </ng-container>
  
          <!-- Iteración de columnas sin incluir 'select' -->
          <ng-container *ngFor="let column of recordsTableColumns" [matColumnDef]="column">
            <th mat-header-cell mat-sort-header *matHeaderCellDef>{{ columns[column] }}</th>
  
            <td mat-cell *matCellDef="let rowData" class="whitespace-nowrap py-2 px-3">
              <span class="font-medium text-sm text-secondary">{{ rowData[column] }}</span>
            </td>
          </ng-container>
  
          <!-- Columna de acciones -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Acciones</th>
            <td mat-cell *matCellDef="let transaction">
              <button mat-icon-button color="primary" [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu class="bg-white" #menu="matMenu">
                <button mat-menu-item (click)="checkImage(transaction)">
                  <mat-icon>search</mat-icon>
                  Ver Planilla Procesada
                </button>
              </mat-menu>
            </td>
          </ng-container>
  
          <!-- Definir las filas usando displayedColumns -->
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
              [ngClass]="getRowBorderColor(row.hasAssitence)">
          </tr>    
  
        </table>
  
          <div class="mt-4">
            <mat-paginator #paginator [length]="dataSource.data.length" [pageSize]="10"
              [pageSizeOptions]="[5, 10, 25, 100, 1000]" (page)="onPageChange($event)"></mat-paginator>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-loading *ngIf="loading"></app-loading>
  <app-group-component-date-activity-beneficiary-add *ngIf="isFormVisible" (modal)="reciveEvent($event)">
  
  </app-group-component-date-activity-beneficiary-add>
  
  