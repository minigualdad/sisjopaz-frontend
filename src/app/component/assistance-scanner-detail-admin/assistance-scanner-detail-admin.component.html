<div class="flex flex-col flex-auto min-w-0 bg-gray-100 h-screen">
    <div class="flex-auto p-4 sm:p-10 overflow-auto">
        <div class="w-full">
            <div class="w-full flex sm:items-center justify-start mb-2 flex-col sm:flex-row">
                <app-button-back [routeBack]="backRoute" class="mb-2"></app-button-back>

                <h2 class="text-2xl sm:text-3xl font-semibold tracking-tight leading-8">
                    <!-- Asistencias por Planilla ESTADO: {{assistanceScanner.state}}  -->
                </h2>
                <div class="flex items-center ml-6">
                    <button class="hidden sm:inline-flex ml-3 bg-primary rounded-2xl" mat-flat-button primary
                        (click)="backPage()">
                        <span class="ml-2 text-white font-bold">Página Anterior</span>
                    </button>
                    <button
                    (click)="nextPage()"
                    class="hidden sm:inline-flex ml-3 bg-primary rounded-2xl px-2 py-2 flex items-center gap-2"mat-flat-button primary>
                    <span class="ml-2 text-white font-bold text-sm">Página Siguiente</span>
                  </button>
                  
                  
                </div>
            </div>
            <div class="font-medium tracking-tight text-secondary mb-4">
                A continuación encontrará la información general de la actividad del
                grupo.
            </div>


            <div class="flex flex-col gap-4 mt-4">
                <!-- Botón de toggle -->
                <div class="flex w-full justify-end">
                    <button
                        class="flex items-center gap-2 px-4 py-2 bg-pink-500 hover:bg-pink-600 text-white rounded-full transition-colors duration-200 shadow-md"
                        (click)="showImage()">
                        <mat-icon class="">{{ showImg ? 'visibility_off' : 'visibility' }}</mat-icon>
                        <span>{{ showImg ? 'Ocultar imágenes' : 'Mostrar imágenes' }}</span>
                    </button>
                </div>

               <!-- Contenedor de imágenes -->
               <div *ngIf="!showImg && urlData" class="flex flex-col gap-6 mb-6">
                <!-- Imagen original -->
                <div class="w-full bg-white border border-gray-200 rounded-lg overflow-hidden shadow-lg">
                  <div class="p-3 bg-gray-50 border-b border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-700">Imagen Original - {{ urlData.state }}</h3>
                  </div>
                  <div class="text-center">
                    <img
                      [src]="apiUrl + '/' + urlData.urlFileImageOriginal"
                      [alt]="'Imagen original - ' + apiUrl + '/' + (urlData.urlFileImageOriginal || '')"
                      class="w-full h-auto object-contain rounded-b-lg" />
                  </div>
                </div>
              
                <!-- Imagen procesada -->
                <div class="w-full bg-white border border-gray-200 rounded-lg overflow-hidden shadow-lg">
                  <div class="p-3 bg-gray-50 border-b border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-700">Imagen Procesada - {{ urlData.state }}</h3>
                  </div>
                  <div class="text-center">
                    <img
                      [src]="apiUrl + '/' + urlData.urlFileImageProcessed"
                      [alt]="'Imagen procesada - ' + apiUrl + '/' + (urlData.urlFileImageProcessed || '')"
                      class="w-full h-auto object-contain rounded-b-lg" />
                  </div>
                </div>
              </div>
              
              
                
            </div>
        </div>

        <app-assistance-table-fixed 
            [records]="dataSource.data"
            (minusClicked)="handleMinus($event)"
            (plusClicked)="handlePlus($event)">
        ></app-assistance-table-fixed>
        <app-assistance-beneficiaries
            [records]="assistanceBeneficiariesList"
            (addClicked)="handleAdd($event)">
        </app-assistance-beneficiaries>
        <app-assistance-beneficiaries-date-selector
            *ngIf="dateSelector"
            [groupComponentId]="groupComponentId"
            [assistanceDateStart]="assistanceDateStart"
            [assistanceDateEnd]="assistanceDateEnd"
            (closeClicked)="handleClose()"
            (createClicked)="handleCreate($event)">
        </app-assistance-beneficiaries-date-selector>
    </div>
</div>

<app-loading *ngIf="loading"></app-loading>


